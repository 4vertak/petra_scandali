# Отчет по выполненным задачам D01_Linux-1.

![alt text](img/devOps.png){width=100%}

> *Дорогие ревьюеры, из этого репорта вы узнаете: как я нашел выход из лабиринта настроек, как избежал падения в черную дыру багов и как не потерял себя в мире командной строки, пока ходил по этому мирному острову стабильности без запинки и смеха!* :neckbeard:

## Part 1. Установка ОС  
- Cкриншот с выводом команды: 'cat /etc/issue'
  
  ![alt text](img/part1.png){width=50%}

## Part 2. Создание пользователя  
- Скриншот команды: 'sudo useradd -g adm newuser'
     > *создаем нового пользователя 'newuser' и добавляем в группу 'adm'*     
    
  ![alt text](img/part2.1.png){width=50%}  

- Скриншот команды:'cat /etc/passwd'
    
    ![alt text](img/part2.2.png){width=50%}

## Part 3. Настройка сети ОС
- Установка названия машины вида 'user-1'
    
    ![alt text](img/part3.1.png){width=50%}
- Установка временной зоны, соответствующей текущему местоположению
    
    ![alt text](img/part3.2.png){width=50%}
- Вывод названия сетевых интерфейсов с помощью консольной команды.
    > - *Интерфейс lo - это виртуальный сетевой интерфейс, используется для общения процессов сетевого стека на компе.  Имеет IP-адрес 127.0.0.1. "inet6" указывает на то, что следующие параметры относятся к адресу IPv6.'::1/128' - это сам IPv6 адрес и его префиксная длина (длина префикса подсети). 'scope host' указывает на ограничение области видимости адреса, в данном случае - только для локального хоста.*
    > - *Интерфейс enp0s3: link/ether - указывает на тип интерфейса (Ethernet) и его MAC-адрес, 'brd' указывает на широковещательный (broadcast) MAC-адрес для этого интерфейса, 'inet' указывает на IPv4-адрес интерфейса и его префиксную длину (24 бита, что соответствует подсети с маской 255.255.255.0), 'scope global' указывает на область видимости (scope) этого IP-адреса, обозначая, что он является глобальным IP-адресом. "dynamic" указывает, что этот IP-адрес был назначен динамически с использованием протокола DHCP.*
    
    ![alt text](img/part3.3.png){width=50%}    
- Скриншот использование команд, для получения ip адреса устройства от DHCP сервера
    > - *dhclient -v - для получения IP-адреса устройства от DHCP-сервера, флаг -v для более подробной информаци.*
    > - *DHCP это протокол динамической конфигурации хоста, т.е. сетевой протокол, который позволяет устройствам автоматически получать IP-адрес, подсетевую маску, адрес шлюза и другие сетевые параметры от DHCP-сервера, что позволяет упростить процесс настройки сети и управления IP-адресами в компьютерных сетях.*
    
    ![alt text](img/part3.4.png){width=50%}    
- Скриншот - внешний ip-адрес шлюза (ip) и внутренний IP-адрес шлюза, он же ip-адрес по умолчанию (gw)
    > *ip route - отображает полную таблицу маршрутизации, включая внешний IP-адрес шлюза и внутренний IP-адрес шлюза по умолчанию.*
    
    ![alt text](img/part3.5.png){width=50%}     
### Задай статичные (заданные вручную, а не полученные от DHCP сервера) настройки ip, gw, dns (используй публичный DNS серверы, например 1.1.1.1 или 8.8.8.8).
> *Редактируем файл настройки сети /etc/netplan/00-installer-config.yaml*    
- Вывод заданных настроек
    
    ![alt text](img/part3.6.png){width=50%}
- После перезагрузки - sudo reboot и сетевые настройки
    >  *Статичные сетевые настройки (ip, gw, dns) соответствуют заданным*   
    
    ![alt text](img/part3.7.png){width=50%}   
- Вывод команды: systemd-resolve --status    
    >  *можно посмотреть текущие настройки DNS-серверов*   
    
    ![alt text](img/part3.7.1.png){width=50%}    
- Успешно пропингуй удаленные хосты 1.1.1.1 и ya.ru и вставь в отчёт скрин с выводом команды.
  > *В выводе команды должна быть фраза «0% packet loss».*     
  - вывод комманд: 'ping 8.8.8.8' и 'ping 1.1.1.1'
    
    ![alt text](img/part3.8.1.png){width=50%}   
  - вывод комманд: 'ping ya.ru'
    
    ![alt text](img/part3.8.2.png){width=50%}   

## Part 4. Обновление ОС   
- Обновление системных пакетов    
    > - *Комманды: sudo apt update, sudo apt upgrade*   
    
    ![alt text](img/part4.png){width=50%}  

## Part 5. Использование команды **sudo**
- скрин с изменённым hostname от имени пользователя: 'newuser'    
    > *Истинное назначение команды sudo - состоит в том, что она дает разрешение пользователю на выполнение определенной команды с правами суперпользователя (root) без необходимости входа в учетную запись root.  Обеспечивает безопасное управление системой, поскольку пользователь может получать доступ к суперпользовательским привилегиям только при необходимости;*   
    
    ![alt text](img/part5.png){width=50%}  

## Part 6. Установка и настройка службы времени
- Настройка службы автоматической синхронизации времени    
    > *Вывод времени часового пояса. Вывод команды содержит `NTPSynchronized=yes`*   
    
    ![alt text](img/part6.png){width=50%}  

## Part 7. Установка и использование текстовых редакторов 
- Установка текстовых редакторов **VIM** (**NANO**, **MCEDIT**)   
  > *Комманда: sudo apt install название редактора*
- Используя каждый из трех редакторов, создал файл *test_X.txt*, где X -- название редактора.
    > *Напиcал свой никнейм, и закрыл файл с сохранением изменений.*
     - **VIM:**
         > *закрытие - 'esc' ':' 'w' 'q'* 
         
         ![alt text](img/part7.1.1.png){width=50%}  
     - **NANO:**
         > *закрытие - 'ctrl' 'x' 'y'* 
         
         ![alt text](img/part7.1.2.png){width=50%}  
     - **MCEDIT:**
         > *закрытие - 'esc' 'yes'* 
         
         ![alt text](img/part7.1.3.png){width=50%}  
- Используя каждый из трех редакторов, отредактируй файлы *test_X.txt*, где X -- название редактора.
    > *отредактировал файл, заменив никнейм на строку «21 School 21», закрыл файл без сохранения изменений.
     - **VIM:**
         > - *редактирование - 'esc' ':' '%s/woodysyl/21 School/g'*
         > - *закрытие - 'esc' ':' 'q' '!'* 
         
         ![alt text](img/part7.2.1.png){width=50%}  
     - **NANO:**
         > - *редактирование -  'ctrl' '\' 'woodysyl' '21 Schoo 21' Y*
         > - *закрытие - 'ctrl' 'x' 'n'* 
         
         ![alt text](img/part7.2.2.png){width=50%}  
     - **MCEDIT:**
         > -  *редактирование -  F4 'woodysyl' '21 Schoo 21'*
         > - *закрытие - 'esc' 'no'* 
         
         ![alt text](img/part7.2.3.png){width=50%}      

## Part 8. Установка и базовая настройка сервиса **SSHD**
- Установка 'SSHd'.  
    > *комманда: sudo apt-get install openssh-server*
- Установка автозапуска службы при загрузке системы.
    > *комманда: sudo systemctl enable ssh*
    
    ![alt text](img/part8.1.png){width=50%}  
- Перенастройка 'SSHd' на порт 2022.
    - Редактируем файл /etc/ssh/sshd_config.
      > *комманда: sudo vim /etc/ssh/sshd_config*
      
      ![alt text](img/part8.2.png){width=50%}     
    - перезагрузка 'SSHd'
      > *комманда: sudo systemctl restart ssh*
- Показ наличия процесса sshd.
    > *команда: ps aux | grep sshd -  выводит список всех процессов и отображаем только связанные с SSH-сервером*
    
    ![alt text](img/part8.3.png){width=50%}
- Перезагрузка системы.
    > *команда: sudo reboot*
- Установка  'net-tools' для работы с сетью.
    > *команда: sudo apt install net-tools*
    
    ![alt text](img/part8.4.1.png){width=50%}
- Вывод команды netstat -tan.
    > - *Команда netstat -tan отображает список всех открытых сетевых соединений и портов в формате таблицы.* 
    > - *Значения ключей:*
      > - ***t*** *для TCP портов.*
      > - ***a*** *показать все соединения.*
      > - ***n*** *показать адреса в цифровом значении.*
    > - *Значение каждого столбца вывода следующее:*
      > - *Proto: тип протокола (tcp или udp)*
      > - *Local Address: локальный адрес и порт*
      > - *oreign Address: удаленный адрес и порт*
      > - *State: текущее состояние соединения (например, ESTABLISHED, LISTEN, etc.)*
      > - *Значение 0.0.0.0 в столбце Local Address указывает на то, что сервер "слушает" все доступные сетевые интерфейсы и адреса на указанном порту. Это означает, что сервер готов принимать входящие соединения с любого доступного адреса.*
    
    ![alt text](img/part8.4.2.png){width=50%}

## Part 9. Установка и использование утилит **top**, **htop**
- Вывод команды top.
    > - *uptime: 23 минуты*
    > - *количество авторизованных пользователей: 1*
    > - *общую загрузку системы: 0.07, 0.03, 0.01*
    > - *общее количество процессов: 117*
    > - *загрузку cpu: 0.0 us 0.1 sy 0.0 ni 99.9 id 0.0 wa 0.0 hi 0.0 si 0.0 st*
    > - *загрузку памяти: 3919,5 total 3248,0 free 176,4 used 495,11 buff/cache*
    > - *pid процесса занимающего больше всего памяти: 1*
    > - *pid процесса, занимающего больше всего процессорного времени: 1277*
    
    ![alt text](img/part9.1.png){width=50%}
   
- В отчёт вставь скрин с выводом команды htop:
  - отсортированному по:
      - PID
      
      ![alt text](img/part9.2.1.1.png){width=50%}
      
      - PERCENT_CPU
      
      ![alt text](img/part9.2.1.2.png){width=50%}
      
      - PERCENT_MEM
      
      ![alt text](img/part9.2.1.3.png){width=50%}
      
      - TIME
      
      ![alt text](img/part9.2.1.4.png){width=50%}
      
  - отфильтрованному для процесса sshd  
  
  ![alt text](img/part9.2.2.png){width=50%}
  
  - с процессом syslog, найденным, используя поиск  
  
  ![alt text](img/part9.2.3.png){width=50%}
  
  - с добавленным выводом hostname, clock и uptime  
  
  ![alt text](img/part9.2.4.png){width=50%}

## Part 10. Использование утилиты **fdisk**

- Запуск команды: fdisk -l.
    > - *Название жесткого диска: /dev/sda*
    > - *размер: 25GiB*
    > - *количество секторов: 52428800*
    > - *размер swap: 2.2Gi*
    
    ![alt text](img/part10.png){width=50%}

## Part 11. Использование утилиты **df**  
- Запуск команды df
  > - *1K-block - единица измерения размера данных или хранения в Linux, составляет 1024 байта или 1 килобайт.*
  
  ![alt text](img/part11.1.png){width=50%}

  > - *размер раздела: 11758760 1K-blocks (1kB)*
  > - *размер занятого пространства: 4982920 1K-blocks (1kB)*
  > - *размер свободного пространства: 6156732 1K-blocks (1kB)*
  > - *процент использования: 45%*
- Запустк команды df -Th.
   > - *тип файловой системы для раздела ext4*
  
  ![alt text](img/part11.2.png){width=50%}
  
  > - *размер раздела: 12G*
  > - *размер занятого пространства: 4.8G*
  > - *размер свободного пространства: 5.9G*
  > - *процент использования: 45%*

## Part 12. Использование утилиты **du**   
- Запустк команды du.
  
  ![alt text](img/part12.1.png){width=50%}

- Вывод размеров папок /home, /var, /var/log (в байтах, в человекочитаемом виде).
  
  ![alt text](img/part12.2.png){width=50%}

- Вывод размеров всего содержимого в /var/log (не общее, а каждого вложенного элемента, используя *).   
  
  ![alt text](img/part12.3.png){width=50%}

## Part 13. Установка и использование утилиты **ncdu**   
- Установка утилиты ncdu   
  
  ![alt text](img/part13.1.png){width=50%}

- Вывод размеров папок /home, /var, /var/log   
  
  ![alt text](img/part13.2.png){width=50%}

## Part 14. Работа с системными журналами
- Вывод время последней успешной авторизации, имя пользователя и метод входа в систему
  > *Mar 22 01:22:28 user-2 sudo: woodysyl : TTY=tty1 : PWD=/home/woodysyl*  
  > *Mar 22 01:22:28 user-2  sudo: pam_unix(sudo:session): session opened for user root by woodysyl*  
  
  ![alt text](img/part14.1.png){width=50%}

- Cообщение о рестарте службы SSHd
  > *команда: sudo systemctl restart sshd*  
  
  ![alt text](img/part14.2.png){width=50%} 

## Part 15. Использование планировщика заданий **CRON**

- Используя планировщик заданий, запусти команду uptime через каждые 2 минуты.
  >Вывод на экран списка текущих заданий для CRONt
  
  ![alt text](img/part15.1.png){width=50%} 
  
- Найди в системных журналах строчки (минимум две в заданном временном диапазоне)
  > *Демон запускаетсячерз две минуты, но: сообщение "no MTA installed, discarding output" означает, что в системе не установлен компонент MTA, который обычно используется для отправки вывода выполненных заданий cron на почту администратору системы.*
  
  ![alt text](img/part15.2.png){width=50%} 

  
- Удали все задания из планировщика заданий.
  
  ![alt text](img/part15.3.png){width=50%} 

![alt text](img/finish.png)